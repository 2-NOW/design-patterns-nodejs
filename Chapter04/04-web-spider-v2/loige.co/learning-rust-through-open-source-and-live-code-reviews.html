<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.7.2"/><script>/**
──────────────███████──███████
──────────████▓▓▓▓▓▓████░░░░░██
────────██▓▓▓▓▓▓▓▓▓▓▓▓██░░░░░░██
──────██▓▓▓▓▓▓████████████░░░░██
────██▓▓▓▓▓▓████████████████░██
────██▓▓████░░░░░░░░░░░░██████              MAMMA MIA!
──████████░░░░░░██░░██░░██▓▓▓▓██
──██░░████░░░░░░██░░██░░██▓▓▓▓██   If you are looking here you
██░░░░██████░░░░░░░░░░░░░░██▓▓██      should definitely get
██░░░░░░██░░░░██░░░░░░░░░░██▓▓██       in touch with me on
──██░░░░░░░░░███████░░░░██████           twitter: @loige
────████░░░░░░░███████████▓▓██
──────██████░░░░░░░░░░██▓▓▓▓██
────██▓▓▓▓██████████████▓▓██
──██▓▓▓▓▓▓▓▓████░░░░░░████
████▓▓▓▓▓▓▓▓██░░░░░░░░░░██
████▓▓▓▓▓▓▓▓██░░░░░░░░░░██
██████▓▓▓▓▓▓▓▓██░░░░░░████████
──██████▓▓▓▓▓▓████████████████
────██████████████████████▓▓▓▓██
──██▓▓▓▓████████████████▓▓▓▓▓▓██
████▓▓██████████████████▓▓▓▓▓▓██
██▓▓▓▓██████████████████▓▓▓▓▓▓██
██▓▓▓▓██████████──────██▓▓▓▓████
██▓▓▓▓████──────────────██████
──████
**/</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="Luciano Mammino &quot;Loige&quot; - FullStack &amp; Cloud developer, fighter, butterfly maker!" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=e5514a6b277bf3f1409d8b0190e93509" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#20232a"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=e5514a6b277bf3f1409d8b0190e93509"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=e5514a6b277bf3f1409d8b0190e93509"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=e5514a6b277bf3f1409d8b0190e93509"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=e5514a6b277bf3f1409d8b0190e93509"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=e5514a6b277bf3f1409d8b0190e93509"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=e5514a6b277bf3f1409d8b0190e93509"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=e5514a6b277bf3f1409d8b0190e93509"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=e5514a6b277bf3f1409d8b0190e93509"/><title data-react-helmet="true">Learning Rust through open source and live code reviews</title><link data-react-helmet="true" type="text/plain" rel="author" href="https://loige.co/humans.txt"/><link data-react-helmet="true" rel="canonical" content="https://loige.co/learning-rust-through-open-source-and-live-code-reviews/"/><meta data-react-helmet="true" name="description" content="A collection of Rust tips and tricks that we learned after publishing our first open source project and receiving a live review on Twitch"/><meta data-react-helmet="true" name="image" content="https://loige.co/static/5efdbd21a961cf9e541eeff8c5d4521c/learning-rust-through-open-source-and-live-code-reviews-fb.png"/><meta data-react-helmet="true" property="og:url" content="https://loige.co/learning-rust-through-open-source-and-live-code-reviews/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Learning Rust through open source and live code reviews"/><meta data-react-helmet="true" property="og:description" content="A collection of Rust tips and tricks that we learned after publishing our first open source project and receiving a live review on Twitch"/><meta data-react-helmet="true" property="og:image" content="https://loige.co/static/5efdbd21a961cf9e541eeff8c5d4521c/learning-rust-through-open-source-and-live-code-reviews-fb.png"/><meta data-react-helmet="true" property="fb:app_id" content="231187154413670"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="loige"/><meta data-react-helmet="true" name="twitter:title" content="Learning Rust through open source and live code reviews"/><meta data-react-helmet="true" name="twitter:description" content="A collection of Rust tips and tricks that we learned after publishing our first open source project and receiving a live review on Twitch"/><meta data-react-helmet="true" name="twitter:image" content="https://loige.co/static/fb9c92f0b6ac54fbbce6571961da2034/learning-rust-through-open-source-and-live-code-reviews-tw.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://loige.co/learning-rust-through-open-source-and-live-code-reviews/","name":"Learning Rust through open source and live code reviews","alternateName":"Luciano Mammino \"Loige\" - FullStack & Cloud developer, fighter, butterfly maker!"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://loige.co/learning-rust-through-open-source-and-live-code-reviews/","name":"Learning Rust through open source and live code reviews","image":"https://loige.co/static/5efdbd21a961cf9e541eeff8c5d4521c/learning-rust-through-open-source-and-live-code-reviews-fb.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://loige.co/learning-rust-through-open-source-and-live-code-reviews/","name":"Learning Rust through open source and live code reviews","alternateName":"Luciano Mammino \"Loige\" - FullStack & Cloud developer, fighter, butterfly maker!","headline":"Learning Rust through open source and live code reviews","image":{"@type":"ImageObject","url":"https://loige.co/static/5efdbd21a961cf9e541eeff8c5d4521c/learning-rust-through-open-source-and-live-code-reviews-fb.png"},"description":"A collection of Rust tips and tricks that we learned after publishing our first open source project and receiving a live review on Twitch","author":{"@type":"Person","name":"Luciano Mammino"},"publisher":{"@type":"Organization","url":"https://loige.co/","name":"Luciano Mammino","logo":{"@context":"http://schema.org","itemtype":"https://schema.org/ImageObject","url":"https://loige.co/favicon.ico"}},"mainEntityOfPage":{"@type":"WebSite","@id":"https://loige.co/"},"datePublished":"2020-10-11T19:50:00.000Z"}]</script><link as="script" rel="preload" href="/webpack-runtime-0019acd3e3ba19e6ba77.js"/><link as="script" rel="preload" href="/framework-9d9eff57288a5d76d992.js"/><link as="script" rel="preload" href="/app-514e309b4e51a67a0ada.js"/><link as="script" rel="preload" href="/ab670281d767243777119348a2b810446e7309bb-19b089964506eaf24367.js"/><link as="script" rel="preload" href="/850935577dc6138b95e5bc3f6f1d9b06bd36398e-bd6be05cfb6becde2e63.js"/><link as="script" rel="preload" href="/4d6423837748823c19bdd3076c1db680baba727b-30a9131768be883bb7a1.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-f8a40d902eea460a8b7d.js"/><link as="fetch" rel="preload" href="/page-data/learning-rust-through-open-source-and-live-code-reviews/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><style data-emotion="css-global xqze0f">*{box-sizing:border-box;margin:0;padding:0;}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-style:normal;font-weight:400;fill:currentColor;}@media (min-width: 780px){body{margin:60px 0 0 0;}}code,pre{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace;font-weight:300;}.content a{-webkit-text-decoration:none;text-decoration:none;}blockquote .gatsby-highlight{margin:1.5em 0 1.5em 0;padding:0.5em;}.gatsby-highlight{font-size:15px;line-height:1.7;background:#282c34;color:#ffffff;border-radius:10px;overflow:auto;tab-size:1.5em;margin:1.5em -1em 1.5em 0;padding:1em;}@media (min-width: 780px){.gatsby-highlight{margin-left:-2em;padding-left:2em;padding-right:2em;font-size:16px;}}.gatsby-highlight .token.attr-name{color:#c5a5c5;}.gatsby-highlight .token.comment,.gatsby-highlight .token.block-comment,.gatsby-highlight .token.prolog,.gatsby-highlight .token.doctype,.gatsby-highlight .token.cdata{color:#999999;}.gatsby-highlight .token.property,.gatsby-highlight .token.number,.gatsby-highlight .token.function-name,.gatsby-highlight .token.constant,.gatsby-highlight .token.symbol,.gatsby-highlight .token.deleted{color:#5a9bcf;}.gatsby-highlight .token.boolean{color:#ff8b50;}.gatsby-highlight .token.tag{color:#fc929e;}.gatsby-highlight .token.string{color:#8dc891;}.gatsby-highlight .token.punctuation{color:#5FB3B3;}.gatsby-highlight .token.selector,.gatsby-highlight .token.char,.gatsby-highlight .token.builtin,.gatsby-highlight .token.inserted{color:#D8DEE9;}.gatsby-highlight .token.function{color:#79b6f2;}.gatsby-highlight .token.operator,.gatsby-highlight .token.entity,.gatsby-highlight .token.url,.gatsby-highlight .token.variable{color:#d7deea;}.gatsby-highlight .token.attr-value{color:#8dc891;}.gatsby-highlight .token.keyword{color:#c5a5c5;}.gatsby-highlight .token.atrule,.gatsby-highlight .token.class-name{color:#FAC863;}.gatsby-highlight .token.important{font-weight:400;}.gatsby-highlight .token.bold{font-weight:700;}.gatsby-highlight .token.italic{font-style:italic;}.gatsby-highlight .token.entity{cursor:help;}.gatsby-highlight>pre{height:auto!important;margin:1rem;white-space:pre-wrap;word-break:break-word;}.gatsby-highlight+.gatsby-highlight{margin-top:20px,;}.gatsby-highlight-code-line{background-color:#14161a;display:block;margin:-0.125rem calc(-1rem - 15px);padding:0.125rem calc(1rem + 15px);}</style><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 1l9yz54 1q6mh99 m735s1 1q6mh99 m735s1 1q6mh99 m735s1 1q6mh99 m735s1 1q6mh99 m735s1">.css-1l9yz54{display:none;}@media (min-width: 540px){.css-1l9yz54{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-1q6mh99{color:#fff;-webkit-text-decoration:none;text-decoration:none;text-align:center;padding:5px 4px;white-space:nowrap;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:background 150ms;transition:background 150ms;border-radius:0.5em;}.css-1q6mh99:hover{background:rgba(255, 255, 255, 0.2);}@media (min-width: 780px){.css-1q6mh99{padding:5px 10px;}}.css-m735s1{width:16px;height:16px;color:#fff;fill:currentColor;}@media (min-width: 540px){.css-m735s1{width:24px;height:24px;}}@media (min-width: 1180px){.css-m735s1{margin:0 0 0 0;}}</style><style data-emotion="css z5ptlm">.css-z5ptlm{background-color:rgba(32, 35, 42, 0.95);color:#ffffff;display:block;position:auto;z-index:2000;width:100%;top:0;left:0;}@media (min-width: 780px){.css-z5ptlm{position:fixed;}}</style><header class="css-z5ptlm ejhzk945"><style data-emotion="css otpe3t">.css-otpe3t{padding-left:4px;padding-right:4px;margin-left:auto;margin-right:auto;max-width:1260px;}@media (min-width: 780px){.css-otpe3t{width:90%;padding-left:20px;padding-right:20px;}}</style><div class="css-otpe3t ejhzk944"><style data-emotion="css z95nvu">.css-z95nvu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:60px;}</style><div class="css-z95nvu ejhzk943"><style data-emotion="css s0y9ho x9illq 192ssef">.css-s0y9ho{color:#46c9e5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:10px;height:100%;-webkit-text-decoration:none;text-decoration:none;-webkit-flex-direction:center;-ms-flex-direction:center;flex-direction:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:none;}@media (min-width: 600px){.css-s0y9ho{width:calc(100% / 6);}}@media (min-width: 540px){.css-s0y9ho{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}.css-x9illq{display:inline-block;vertical-align:top;}.css-192ssef{margin-left:10px;font-weight:bold;font-size:20px;line-height:20px;}</style><a class="css-s0y9ho" href="/"><img class="css-x9illq" height="60px" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjExNjMuMTI2IiB2aWV3Qm94PSIwIDAgMTI4NS41NjMgMTE2My4xMjYiIHdpZHRoPSIxMjg1LjU2MyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBkPSJtMCAwaDEyODUuNTYzdjExNjMuMTI2aC0xMjg1LjU2M3oiLz48L2NsaXBQYXRoPjxnIGNsaXAtcGF0aD0idXJsKCNhKSI+PHBhdGggZD0ibTExNjMuMTMxIDU1MC45NTV2NjEuMjE2aC02MS4yMTd2MjQ0Ljg2OWg2MS4yMTcgNjEuMjE2di0zMDYuMDg1eiIgZmlsbD0iIzc0NGUyNiIvPjxwYXRoIGQ9Im01NTAuOTU1IDc5NS44MjRoLTEyMi40Mzd2NjEuMjE2aC02MS4yMTZ2MTIyLjQzN2gxMjIuNDM3di02MS4yMTZoNjEuMjE2eiIgZmlsbD0iIzc0NGUyNiIvPjxwYXRoIGQ9Im05MTguMjYxIDYxMi4xNzFoLTYxLjIxNnYtNjEuMjE2aDYxLjIxNnptNjEuMjE3IDBoLTYxLjIxN3Y2MS4yMTZoNjEuMjE3em0xMjIuNDMyIDYxLjIxNnYxODMuNjUzaC0xMjIuNDMyLTEyMi40Mzd2NjEuMjE3aC0xMjIuNDMzLTE4My42NTN2LTE4My42NDloMTIyLjQzN3YtMTIyLjQzN2g2MS4yMTZ2NjEuMjE2aDE4My42NTN2NjEuMjIxaDYxLjIxN3YtNjEuMjIxem0tMzA2LjA4NiA2MS4yMjFoLTYxLjIxNnY2MS4yMTZoNjEuMjE2em0tMTgzLjY0OC0xMjIuNDM3aDYxLjIxNnYtNjEuMjE2aC02MS4yMTZ6IiBmaWxsPSIjNGVjMmM4Ii8+PHBhdGggZD0ibTkxOC4yNjEgMTIyLjQzMnYtNjEuMjE2aC00MjguNTE4djYxLjIxNmgtNjEuMjIxdjM2Ny4zMDJoMTIyLjQzN3YtNjEuMjE2aC02MS4yMTZ2LTEyMi40MzNoNjEuMjE2djEyMi40MzNoNjEuMjE3di0xMjIuNDMzaDEyMi40MzJ2LTEyMi40MzZoMTgzLjY1M3Y2MS4yMmg2MS4yMTd2LTEyMi40Mzd6IiBmaWxsPSIjNzQ0ZTI2Ii8+PHBhdGggZD0ibTk3OS40NzggMTIyLjQzNmg2MS4yMTZ2NjEuMjE3aC02MS4yMTZ6IiBmaWxsPSIjMmEyYTJhIi8+PHBhdGggZD0ibTYxMi4xNzEgNjEyLjE3MWg2MS4yMTd2MTIyLjQzN2gtMTgzLjY0OXYtNjEuMjE3aC0xMjIuNDM3di0xMjIuNDM2aDI0NC44Njl6bTM2Ny4zMDcgNjEuMjJoLTYxLjIxN3Y2MS4yMTdoNjEuMjE3em0tMjQ0Ljg3NCAxMjIuNDMzaDYxLjIxNnYtNjEuMjE2aC02MS4yMTZ6bTI0NC44NzQtNjEyLjE3MXY2MS4yMTZoNjEuMjE2djEyMi40MzNoLTYxLjIxNnYxODMuNjUzaC02MS4yMjF2NjEuMjE2aDEyMi40Mzd2LTYxLjIxNmg2MS4yMTZ2LTYxLjIxN2g2MS4yMTZ2LTYxLjIyLTEyMi40MzMtMTIyLjQzMnptLTEyMi40MzcgMzY3LjMwMmgtMTgzLjY1M3Y2MS4yMTZoNjEuMjE2djYxLjIyaDE4My42NTN2LTYxLjIyaC02MS4yMTZ6IiBmaWxsPSIjZmJkODAwIi8+PHBhdGggZD0ibTEyMjQuMzQ3IDQ4OS43MzR2LTQ4OS43MzRoLTYxLjIxNi03MzQuNjA5djYxLjIxNmgtNjEuMjE2djQyOC41MThoLTE4My42NTN2NjEuMjIxaC02MS4yMnYxODMuNjQ5aDI0NC44NzN2NjEuMjJoLTEyMi40Mzd2NjEuMjE2aC02MS4yMTZ2NjEuMjE3aDYxLjIxNnY2MS4yMmg2MS4yMTd2NjEuMjE2aDEyMi40MzZ2NjEuMjE3aDYxLjIxN3YtNjEuMjE3aDYxLjIxNnYtNjEuMjE2aDQyOC41MjN2LTYxLjIyaDMwNi4wODV2LTQyOC41MjN6bTAgMzY3LjMwNmgtMzY3LjMwNnY2MS4yMTdoLTM2Ny4zMDJ2NjEuMjJoLTEyMi40MzN2LTEyMi40MzdoNjEuMjE2di02MS4yMTZoMTIyLjQzM3YtNjEuMjJoLTYxLjIxNnYtNjEuMjE3aC0zMDYuMDg2di02MS4yMTZoNjEuMjE2di02MS4yMTZoMTIyLjQzNyAxODMuNjQ5di02MS4yMjFoLTEyMi40MzN2LTE4My42NDktMTgzLjY1M2g2MS4yMTd2LTYxLjIxNmg0MjguNTIydjYxLjIxNmg2MS4yMTd2LTYxLjIxNmgxODMuNjUzdjQyOC41MThoLTYxLjIyMXY2MS4yMjFoLTYxLjIxNnY2MS4yMTZoLTYxLjIxNnY2MS4yMTZoMTIyLjQzMnYtNjEuMjE2aDYxLjIyMXYtNjEuMjE2aDYxLjIxNnoiIGZpbGw9IiMyYTJhMmEiLz48cGF0aCBkPSJtODU3LjA0MSAzMDYuMDg1aC02MS4yMTd2LTYxLjIxNmg2MS4yMTd6bS02NzMuMzg4IDYxMi4xNzJoLTYxLjIxNnY2MS4yMTZoNjEuMjE2em0xODMuNjUzIDI0NC44NjloNjEuMjE2di02MS4yMTZoLTYxLjIxNnptLTE4My42NTMtNjEuMjE2aDYxLjIxNnYtNjEuMjE3aC02MS4yMTZ6bS0xODMuNjUzIDBoNjEuMjE2di02MS4yMTdoLTYxLjIxNnptOTc5LjQ3OC02NzMuMzkydi02MS4yMTZoLTE4My42NTR2NjEuMjE2aC02MS4yMTZ2MTIyLjQzN2gxMjIuNDMzIDEyMi40Mzd2LTYxLjIyMWgtMTIyLjQzN3YtNjEuMjE2eiIgZmlsbD0iIzJhMmEyYSIvPjxnIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Im03OTUuODI0IDI0NC44NjloMTIyLjQzNnYtNjEuMjE2aC0xMjIuNDM2LTYxLjIxNnYxMjIuNDMyaDYxLjIxNnptNjEuMjE3IDYxLjIxNmgtNjEuMjE3djYxLjIxN2gyNDQuODcydi02MS4yMTdoLS4wMDJ2LTYxLjIxNmgtMTgzLjY1M3ptLTMwNi4wODYgMTIyLjQzM2gxODMuNjUzdjEyMi40MzdoLTE4My42NTN6bS02MS4yMTYtMTIyLjQzM2g2MS4yMTZ2MTIyLjQzM2gtNjEuMjE2em0xMjIuNDM3IDBoMTgzLjY0OHYxMjIuNDMzaC0xODMuNjQ4em0yNDQuODY1IDEyMi40MzNoMTIyLjQzN3Y2MS4yMTZoLTEyMi40Mzd6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48cGF0aCBkPSJtMjQ0Ljg2OSA2NzMuMzkxaDEyMi40MzN2LTEyMi40MzZoLTEyMi40MzN2NjEuMjE4aC02MS4yMTZ2NjEuMjE4eiIvPjxwYXRoIGQ9Im0xMTYzLjEyNiAxMjIuNDM2aC4wMDV2LTYxLjIyaC0xODMuNjUzdjYxLjIyaDYxLjIxOHY2MS4yMTdoMTIyLjQzeiIvPjwvZz48L2c+PC9zdmc+" alt="Loige"/><span class="css-192ssef">Loige</span></a><style data-emotion="css 1ld37qd">.css-1ld37qd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;height:100%;width:60%;}@media (min-width: 1180px){.css-1ld37qd{width:60%;}}</style><nav class="css-1ld37qd ejhzk942"><style data-emotion="css brnyfx 1f3jrqb">.css-brnyfx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#ffffff;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;padding-left:15px;padding-right:15px;font-weight:300;-webkit-text-decoration:none;text-decoration:none;}@media (min-width: 1280px){.css-brnyfx{padding-left:20px;padding-right:20px;font-size:18px;}}.css-1f3jrqb{color:#46c9e5;position:relative;}</style><a class="css-brnyfx css-1f3jrqb" href="/"><style data-emotion="css 1eand3o">.css-1eand3o{position:absolute;bottom:-1px;height:4px;left:0px;right:0px;z-index:1;background:#46c9e5;}</style><span class="css-1eand3o e5yudoc0"></span>Blog</a><a class="css-brnyfx" href="/speaking">Speaking</a><a class="css-brnyfx" href="/about">About</a></nav><style data-emotion="css 150b3u1">.css-150b3u1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;height:100%;width:40%;}@media (min-width: 1180px){{width:40%;}}</style><div class="css-150b3u1 ejhzk941"><a rel="nofollow" class="css-1q6mh99" href="https://twitter.com/loige"><svg aria-label="Twitter" viewBox="0 0 24 24" width="1em" height="1em" class="css-m735s1" alt="Luciano&#x27;s Twitter profile"><path fill="currentColor" d="M23.954 4.569a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.691 8.094 4.066 6.13 1.64 3.161a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.061a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.937 4.937 0 0 0 4.604 3.417 9.868 9.868 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63a9.936 9.936 0 0 0 2.46-2.548l-.047-.02z"></path></svg></a><a rel="nofollow" class="css-1q6mh99" href="https://twitch.tv/loige"><svg aria-label="Twitch" viewBox="0 0 24 24" width="1em" height="1em" class="css-m735s1" alt="Luciano&#x27;s Twitch profile"><path fill="currentColor" d="M.975 4.175v16.694h5.749V24h3.139l3.134-3.132h4.705l6.274-6.258V0H2.542zm3.658-2.09h17.252v11.479l-3.66 3.652h-5.751L9.34 20.343v-3.127H4.633z"></path><path fill="currentColor" d="M10.385 6.262h2.09v6.26h-2.09zM16.133 6.262h2.091v6.26h-2.091z"></path></svg></a><a rel="nofollow" class="css-1q6mh99" href="https://www.youtube.com/channel/UCL0w2IAjTBx3NNka-l7InPw"><svg aria-label="Youtube" viewBox="0 0 24 24" width="1em" height="1em" class="css-m735s1" alt="Luciano&#x27;s YouTube profile"><path fill="currentColor" d="M23.469 5.929l.03.196a3.043 3.043 0 0 0-2.068-2.112l-.021-.005c-1.871-.508-9.4-.508-9.4-.508s-7.51-.01-9.4.508A3.044 3.044 0 0 0 .527 6.104l-.005.021c-.699 3.651-.704 8.038.031 11.947l-.031-.198a3.043 3.043 0 0 0 2.068 2.112l.021.005c1.869.509 9.4.509 9.4.509s7.509 0 9.4-.509a3.043 3.043 0 0 0 2.084-2.096l.005-.021c.318-1.698.5-3.652.5-5.648l-.001-.221.001-.23c0-1.997-.182-3.951-.531-5.846zM9.608 15.651V8.358l6.266 3.652z"></path></svg></a><a rel="nofollow" class="css-1q6mh99" href="https://www.linkedin.com/in/lucianomammino/"><svg aria-label="LinkedIn" viewBox="0 0 24 24" width="1em" height="1em" class="css-m735s1" alt="Luciano&#x27;s LinkedIn profile"><path fill="currentColor" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a rel="nofollow" class="css-1q6mh99" href="https://github.com/lmammino"><svg aria-label="GitHub" viewBox="0 0 24 24" width="1em" height="1em" class="css-m735s1" alt="Luciano&#x27;s GitHub profile"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div><style data-emotion="css 1cfofik">.css-1cfofik{height:2px;display:block;transform-origin:left center 0px;-webkit-transform:scaleX(1);-moz-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);z-index:50;-webkit-transition:-webkit-transform 400ms ease 100ms;transition:transform 400ms ease 100ms;background:linear-gradient(90deg, #46c9e5, #d26ac2);}</style><span class="css-1cfofik ejhzk940"></span></header><style data-emotion="css gvup9u">.css-gvup9u{background-color:#46c9e5;background-repeat:no-repeat;-webkit-background-position:center;background-position:center;-webkit-background-size:cover;background-size:cover;width:100%;min-height:300px;height:50vh;display:table;}.css-gvup9u.small{max-height:300px;}.css-gvup9u.tiledBg{-webkit-background-size:auto;background-size:auto;background-repeat:repeat;}.css-gvup9u.bottomRightBg{-webkit-background-position:bottom right;background-position:bottom right;}.css-gvup9u.gradientOverlay{position:relative;z-index:-2;}.css-gvup9u.gradientOverlay:before{content:'';position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(to bottom right, #46c9e5, #d26ac2);opacity:0.6;z-index:-1;}@media (min-width: 780px){.css-gvup9u{height:70vh;}}</style><div class="textOverlay css-gvup9u ea1ziiz1" style="background-image:url(/static/73964e7ee471c3ff0729c96f4bc4fb65/learning-rust-through-open-source-and-live-code-reviews.jpg)"><style data-emotion="css 1vmuur7">.css-1vmuur7{display:table-cell;vertical-align:middle;text-align:center;font-weight:700;color:#fff;padding:0 2em;color:white;text-shadow:1px 3px 0 #000,-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;}@media (min-width: 780px){.css-1vmuur7{font-size:1.2em;}}.css-1vmuur7 h1{font-size:2em;line-height:1.6em;}.css-1vmuur7 h2{font-size:1.5em;margin:0.5em 0 0 0;line-height:1.6em;}.css-1vmuur7.textOverlay>*>span{background:#000000c4;display:inline;padding:0.2em;-webkit-box-decoration-break:clone;box-decoration-break:clone;-webkit-box-decoration-break:clone;}</style><div class="textOverlay css-1vmuur7 ea1ziiz0"><h1><span>Learning Rust through open source and live code reviews</span></h1></div></div><style data-emotion="css 48rqd6">.css-48rqd6{min-height:100vh;margin:0 auto;padding-left:20px;padding-right:20px;max-width:1260px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}@media (min-width: 780px){.css-48rqd6{width:90%;}}</style><div class="css-48rqd6 e1kc7zwr4"><style data-emotion="css y3klfd">.css-y3klfd{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><section class="css-y3klfd e1kc7zwr3"><style data-emotion="css 3igp7s">.css-3igp7s{-webkit-flex:1;-ms-flex:1;flex:1;}@media (min-width: 780px){.css-3igp7s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}</style><div class="css-3igp7s e1kc7zwr2"><style data-emotion="css nmfn">.css-nmfn{-webkit-flex:3;-ms-flex:3;flex:3;width:100%;}</style><main class="css-nmfn e1kc7zwr1"><style data-emotion="css t2ycg8">.css-t2ycg8{margin:2em 0;line-height:25px;padding:0 1em;}.css-t2ycg8 a{-webkit-text-decoration:none;text-decoration:none;color:inherit;}.css-t2ycg8 a:hover{-webkit-text-decoration:underline;text-decoration:underline;}@media (min-width: 780px){.css-t2ycg8{padding:0 2em;}}</style><div class="css-t2ycg8 ep8980s1"><style data-emotion="css 0 rm23k1">.css-rm23k1{margin:0 0.25em 0 0;}</style><style data-emotion="css 1o5dns8">.css-1o5dns8{vertical-align:middle;font-size:inherit;margin:0 0.5em;display:inline-block;}.css-1o5dns8 span{vertical-align:text-bottom;}</style><span style="margin-left:0" class="css-1o5dns8 e1r90wi10"><svg aria-hidden="true" data-prefix="far" data-icon="calendar-alt" class="css-rm23k1" viewBox="0 0 448 512" width="1em" height="1em"><path fill="currentColor" d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"></path></svg><span>October 11, 2020</span></span><style data-emotion="css j1wil6">.css-j1wil6{vertical-align:middle;margin:0 0.5em 0 1em;display:inline-block;}.css-j1wil6 a{color:inherit;font-weight:bold;-webkit-text-decoration:none;text-decoration:none;vertical-align:text-bottom;}</style><span class="css-j1wil6 ex82wp61"><svg aria-hidden="true" data-prefix="fas" data-icon="tags" class="css-rm23k1" viewBox="0 0 640 512" width="1em" height="1em"><path fill="currentColor" d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"></path></svg><a href="/tag/rust">#<!-- -->rust</a></span><a href="#comments" title="Read comments"><svg aria-hidden="true" data-prefix="fas" data-icon="comments" class="svg-inline--fa fa-comments fa-w-18" viewBox="0 0 576 512" width="1em" height="1em" style="margin:0 .25em 0 1em"><path fill="currentColor" d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"></path></svg><span class="disqus-comment-count" data-disqus-identifier="learning-rust-through-open-source-and-live-code-reviews" data-disqus-url="https://loige.co/learning-rust-through-open-source-and-live-code-reviews">comments</span></a><p>— Published by<!-- --> <style data-emotion="css 1u9uk5p">.css-1u9uk5p{background:transparent!important;white-space:nowrap!important;color:#000!important;}.css-1u9uk5p:hover{-webkit-text-decoration:underline!important;text-decoration:underline!important;}</style><a href="https://twitter.com/loige" rel="nofollow noopener noreferrer" target="_blank" class="css-1u9uk5p e1ondplw2"><style data-emotion="css 1gejjbo">.css-1gejjbo{border-radius:50%;width:2em;height:2em;vertical-align:middle;display:inline-block;margin:0 .5em 0 0;overflow:hidden;}</style><img alt="Luciano Mammino&#x27;s profile picture" src="https://unavatar.now.sh/github/lmammino" class="css-1gejjbo e1ondplw1"/>Luciano Mammino</a>, written with<!-- --> <a href="https://twitter.com/stefanoabalsamo" rel="nofollow noopener noreferrer" target="_blank" class="css-1u9uk5p e1ondplw2"><img alt="Stefano Abalsamo&#x27;s profile picture" src="https://unavatar.now.sh/github/stefanoabalsamo79" class="css-1gejjbo e1ondplw1"/>Stefano Abalsamo</a></p></div><style data-emotion="css 1eveted">.css-1eveted{margin:2em 0;line-height:25px;padding:0 1em;}.css-1eveted code{white-space:pre-wrap;word-break:break-word;}@media (min-width: 780px){.css-1eveted{padding:0 2em;}}.css-1eveted a{background-color:rgba(187, 239, 253, 0.3);border-bottom:1px solid rgba(0, 0, 0, 0.2);-webkit-text-decoration:none;text-decoration:none;color:inherit;}.css-1eveted a:hover{background-color:#bbeffd;border-bottom-color:#1a1a1a;}.css-1eveted a.anchor,.css-1eveted a.gatsby-resp-image-link{background-color:transparent;border:none;}.css-1eveted a.anchor.before{position:absolute;top:64px;left:-1em;}.css-1eveted>p:first-of-type{font-size:18px;font-weight:300;color:#6d6d6d;}.css-1eveted>p:first-of-type a,.css-1eveted>p:first-of-type strong{font-weight:400;}@media (min-width: 780px){.css-1eveted>p:first-of-type{font-size:24px;}}.css-1eveted p{margin:1em 0 0 0;font-size:16px;line-height:1.7;max-width:42em;}@media (min-width: 780px){.css-1eveted p{font-size:17px;line-height:1.7;}}.css-1eveted h2,.css-1eveted h3,.css-1eveted h4,.css-1eveted h5{margin:2em 0 0 0;}.css-1eveted p>code,.css-1eveted li>code{background:rgba(255, 229, 100, 0.2);color:inherit;display:inline-block;padding:0 0.3em;}.css-1eveted p>code,.css-1eveted li>code,.css-1eveted p>a>code,.css-1eveted li>a>code{padding:0 3px;font-size:inherit;word-break:break-word;}.css-1eveted h2{border-top:1px solid #ececec;margin-top:2em;padding-top:2em;line-height:1.2;font-size:20px;}.css-1eveted h2:first-of-type{border-top:0;padding-top:0;}@media (min-width: 780px){.css-1eveted h2{font-size:35px;}}.css-1eveted hr+h2{border-top:0;margin-top:0;}.css-1eveted h3{padding-top:45px;font-size:18px;}@media (min-width: 780px){.css-1eveted h3{font-size:25px;line-height:1.3;}}.css-1eveted h2+h3,.css-1eveted h2+h3:first-of-type{padding-top:30px;}.css-1eveted h4{font-size:20px;color:#6d6d6d;line-height:1.3;margin-top:50px;font-weight:400;}.css-1eveted h4+p{margin-top:20px;}.css-1eveted ol,.css-1eveted ul{margin-top:20px;font-size:16px;padding-left:2em;}.css-1eveted ol p,.css-1eveted ul p,.css-1eveted ol p:first-of-type,.css-1eveted ul p:first-of-type{font-size:16px;margin-top:0;line-height:1.2;}.css-1eveted ol li,.css-1eveted ul li{margin-top:10px;}.css-1eveted img{max-width:100%;}.css-1eveted ol{list-style:decimal;}.css-1eveted ul{list-style:disc;}.css-1eveted blockquote{background-color:rgba(255, 229, 100, 0.3);border-left-color:#ffe564;border-left-width:9px;border-left-style:solid;padding:20px 45px 20px 26px;margin:1em 0 2em -1em;}@media (min-width: 780px){.css-1eveted blockquote{margin-left:-2em;}}.css-1eveted blockquote p{margin-top:15px;}.css-1eveted blockquote p:first-of-type{font-weight:700;margin-top:0;}.css-1eveted blockquote p:nth-of-type(2){margin-top:0;}.css-1eveted table{margin:1em auto;border-spacing:0;border-collapse:collapse;width:100%;}@media (min-width: 780px){.css-1eveted table{width:80%;}}.css-1eveted table td,.css-1eveted table th{border:1px solid #ccc;margin:0;padding:0.4em;}.css-1eveted table+legend{border-left:3px solid #ccc;font-size:small;font-style:italic;width:100%;margin:1em auto;padding:0 0 0 1em;}@media (min-width: 780px){.css-1eveted table+legend{width:80%;}}</style><article class="css-1eveted e1lcgljk0"><p>Hello from Luciano and Stefano! 👋</p>
<p>In the last few years we set ourselves onto the Rust learning path. We don’t work with Rust during our daily jobs and we come to be interested in the language for different reasons (more on this later), so we decided to take it easy and invest some of our free time reading books and tutorials, watching videos about Rust and doing occasional coding challenges. Finally after about one year of sporadic studying sessions we felt ready to attempt our first open source Rust project: <a href="https://github.com/lmammino/jwtinfo"><code>jwtinfo</code></a>.</p>
<p>We recently had the pleasure to have our crate reviewed by <a href="https://twitter.com/timClicks">Tim McNamara</a> of <a href="https://www.manning.com/books/rust-in-action">Rust in Action</a>’s fame (one the best Rust books out there in our honest opinion!). The review was carried out live on <a href="https://www.twitch.tv/timclicks">Tim’s twitch channel</a> and it gave us a lot of cues on things to improve.
This article serves as a summary for our experience and memorandum of all the interesting things we learned. If you are learning Rust as well, we hope you will find some of these notes useful!</p>
<h2 id="our-motivation" style="position:relative;"><a href="#our-motivation" aria-label="our motivation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Our motivation</h2>
<p>Before getting into the weeds of what we learned, it probably makes sense for us to give you a little intro on who we are and why we are interested in Rust. If you couldn’t care less about who is writing this, just skip to the next section! 😜</p>
<p><a href="https://twitter.com/loige">Luciano</a>, considers himself a fullstack cloud developer. His career has been gravitating mostly around building web and cloud-focused products. He has been using mainly high level languages throughout his career (qBasic/VB, Php, JavaScript, Python, Go, Node.js). Node.js is his tool of choice and he is one of the co-authors of the book <a href="https://www.nodejsdesignpatterns.com/">Node.js Design Patterns (Packt)</a>. He is fascinated by Rust because it unveils fundamental topics like memory management and safety which he doesn’t know much about, but he is also interested in using Rust on the web building Rust web servers and frontends with WebAssembly. If you are curious to know more about Luciano, check out the <a href="/about">about section of this blog</a>.</p>
<p><a href="https://twitter.com/StefanoAbalsamo">Stefano</a> is a long time low-level C/C++ developer who got close to the world of web development in the last few years. Based on his previous experience, Stefano saw in Rust a great potential to write safe and performant code across all the stack.</p>
<h2 id="the-project-and-a-quick-jwt-primer" style="position:relative;"><a href="#the-project-and-a-quick-jwt-primer" aria-label="the project and a quick jwt primer permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The project and a quick JWT primer</h2>
<p>Just to give you a little bit of context on the project, <code>jwtinfo</code> is a simple command line application (and a library) that allows you to validate and decode a JWTs (JSON Web Tokens) and visualize the content of the “body” (or “payload”) section of the token. If you are not familiar with what JWT is, you can read this 5-minutes article called <a href="https://loige.co/whats-in-a-jwt">what’s in a JWT</a>.</p>
<p><code>jwtinfo</code> is a command line utility that allows you to see what’s inside a JWT. For instance you can run it like this:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">jwtinfo eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code></pre></div>
<p>And it will print:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"sub"</span><span class="token operator">:</span><span class="token string">"1234567890"</span><span class="token punctuation">,</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"John Doe"</span><span class="token punctuation">,</span><span class="token property">"iat"</span><span class="token operator">:</span><span class="token number">1516239022</span><span class="token punctuation">}</span></code></pre></div>
<p>Which is essentially the <em>body</em> (or <em>payload</em>) of the token we pass as input to <code>jwtinfo</code>.</p>
<p>Of course, <code>jwtinfo</code> will also tell you if you try to pass a token that is not valid and can’t be parsed correctly, so, in a way, you could also call it a JWT validator, even though, at this time, it does not offer any functionality to validate the token signature against a secret or a public key.</p>
<h2 id="the-review" style="position:relative;"><a href="#the-review" aria-label="the review permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The review</h2>
<p>The idea of the code review came up when Tim <a href="https://twitter.com/timClicks/status/1306105789245841409">asked on Twitter what people would be interested to see in a Rust live stream</a>. Luciano took this opportunity to suggest to do some live code review of Rust beginners’ crates. Tim seemed to like the idea and of course at that point we had to volunteer our project 😇</p>
<p>After a couple of weeks Tim proceeded with the live review <a href="https://www.youtube.com/watch?v=1JZ1oWp3PuA">that you can now watch on YouTube</a>.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAUGBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIAA//aAAwDAQACEAMQAAABQU83WWm4ZCP/xAAbEAACAwADAAAAAAAAAAAAAAABAwIEBQAyNP/aAAgBAQABBQJjJCWUhdiu2jWEnknmL5X9/wD/xAAZEQACAwEAAAAAAAAAAAAAAAAAAQIDERL/2gAIAQMBAT8Bsk+maz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAfEAABAwMFAAAAAAAAAAAAAAAAAQIRAxJRMTNBc4H/2gAIAQEABj8ChHCuqpct8am3xkZOBew8P//EABsQAQACAgMAAAAAAAAAAAAAAAEAESGxMXGR/9oACAEBAAE/IX6gJU/VZpiiGQ9ENCuluY9jROCP/9oADAMBAAIAAwAAABBHD//EABgRAQEAAwAAAAAAAAAAAAAAAAEAEUFR/9oACAEDAQE/EEtnbHa//8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EAwhcv/EAB4QAQADAAEFAQAAAAAAAAAAAAEAESGxUWFxgZGh/9oACAEBAAE/EKVAYBAQEKFRKA8sN2FH2veUACDOuuD5MEy5P43LP//Z'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/b4b92ffeb74995b250c209a78d95a742/8d3d1/timclicks-reviewing-jwtinfo-rust-crate-on-twitch.webp 256w,
/static/b4b92ffeb74995b250c209a78d95a742/354cf/timclicks-reviewing-jwtinfo-rust-crate-on-twitch.webp 512w,
/static/b4b92ffeb74995b250c209a78d95a742/03f31/timclicks-reviewing-jwtinfo-rust-crate-on-twitch.webp 1000w"
              sizes="(max-width: 1000px) 100vw, 1000px"
              type="image/webp"
            />
          <source
            srcset="/static/b4b92ffeb74995b250c209a78d95a742/b95e4/timclicks-reviewing-jwtinfo-rust-crate-on-twitch.jpg 256w,
/static/b4b92ffeb74995b250c209a78d95a742/1779b/timclicks-reviewing-jwtinfo-rust-crate-on-twitch.jpg 512w,
/static/b4b92ffeb74995b250c209a78d95a742/dbdff/timclicks-reviewing-jwtinfo-rust-crate-on-twitch.jpg 1000w"
            sizes="(max-width: 1000px) 100vw, 1000px"
            type="image/jpeg"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/b4b92ffeb74995b250c209a78d95a742/dbdff/timclicks-reviewing-jwtinfo-rust-crate-on-twitch.jpg"
            alt="Tim McNamara (timclicks) reviewing the jwtinfo Rust crate on Twitch"
            title="Tim McNamara (timclicks) reviewing the jwtinfo Rust crate on Twitch"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
    </span></p>
<p><a href="https://twitter.com/loige/status/1306227257606836227">Our ask</a> was to get some generic advice around the following topics:</p>
<ul>
<li>Project structure</li>
<li>Error management</li>
<li>Enums</li>
<li>Exposing a lib and a cli together</li>
<li>Testing</li>
<li>Build process</li>
</ul>
<p>In hindsight, we reckon that this list might look a bit random and unclear, but nonetheless Tim managed to address most of these points and provided great insights around the concerns we had around these topics.</p>
<p>We are going now to showcase our notes, in no special order and try to provide as much context as possible based on what we learned during the review process and even after it when we decided to go in greater depth on some of the suggested improvements.</p>
<h2 id="simplified-project-structure-and-exposing-a-cli-and-a-library" style="position:relative;"><a href="#simplified-project-structure-and-exposing-a-cli-and-a-library" aria-label="simplified project structure and exposing a cli and a library permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simplified project structure and exposing a CLI and a library</h2>
<p>When we started working on this project we just wanted to create a simple command line tool. As we were writing the code, we realized that all the JWT parsing and validation logic could be externalized to its own external module. We didn’t really want to split the project in two, mostly for simplicity, but also because there are <a href="https://crates.io/search?q=jwt">many cool JWT crates</a> out there and don’t want to compete or even try to provide feature parity with them. This is a learning project, and as such, we thought it might be nice to expose our JWT parsing layer as a library too.
Tim provided 2 interesting pieces of advice. The first one is to simplify the folder structure. It turns out we were following a pattern that was required in Rust 2015 edition, which looks like the following:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">src/
├── main.rs # our CLI app
└── jwt # our internal lib for JWT parsing
    ├── mod.rs
    └── test.rs</code></pre></div>
<p>In Rust 2018 edition it is possible to avoid creating <code>mod.rs</code> files. But why would you want to avoid them in the first place? It turns out that those files tend to be quite anonymous in big projects. If you have many submodules, chances are that you will end up having many tabs open at a given point in time and they would all be saying <code>mod.rs</code>. It will probably take you a while to be able to navigate through them and find the file you were looking for. What we learned is that with Rust 2018 we could simply promote <code>src/jwt/mod.rs</code> to <code>src/jwt.rs</code>. No other code change required: all the imports still work as a charm! So now our code structure looks like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">src/
├── main.rs
├── jwt.rs
└── jwt/
    └── test.rs</code></pre></div>
<p>This seems much better, we like flatter structures and descriptive file names! If you are curious to find out more about this there is an official piece of documentation recommending <a href="https://doc.rust-lang.org/stable/edition-guide/rust-2018/module-system/path-clarity.html#no-more-modrs">no more <code>mod.rs</code></a>!</p>
<p>In order to expose the <code>jwt.rs</code> module as part of the public library we finally had to do a couple of minor changes in our <code>cargo.toml</code> and in our <code>main.rs</code>.</p>
<p>Our <code>cargo.toml</code> needed to have new sections indicating how to compile the project for the different targets (CLI application and library). We achieved that by adding the following lines:</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">lib</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"jwtinfo"</span>
<span class="token key property">path</span> <span class="token punctuation">=</span> <span class="token string">"src/main.rs"</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">bin</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"jwtinfo"</span>
<span class="token key property">path</span> <span class="token punctuation">=</span> <span class="token string">"src/main.rs"</span></code></pre></div>
<p>If you are wondering why <code>lib</code> comes with only one pair of square brackets while <code>bin</code> comes with two, well we had the same question too! We found an answer in the <a href="https://doc.rust-lang.org/cargo/reference/cargo-targets.html#configuring-a-target">official cargo documentation</a>:</p>
<blockquote>
<p>The double-bracket sections like <code>[[bin]]</code> are array-of-table of TOML, which means you can write more than one <code>[[bin]]</code> section to make several executables in your crate. You can only specify one library, so <code>[lib]</code> is a normal TOML table.</p>
</blockquote>
<p>Once we applied these changes, everything seemed to work great. Except, when we published the changes on GitHub we started to our CI being polluted by the following warning:</p>
<blockquote>
<p>“file found to be present in multiple build targets”</p>
</blockquote>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 20.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoklEQVQI132PPROCMBBE8///GaO9FBbOKCiBfNzl7gIJCQ5iYeUWO9u8mbeqyJWIAjGxMIvEiIFqrdvf1FoDsdrWrmlObXvp+uf90Wk9DlobY/Q4DVpb56Zp2tuYlPIvX0pRWx7s2PW3MzgtMssn8/wdvOvwbiRxWZacc0p5XdeDV9vyinMCbxExBAJARGRm8B4QAQMieg8i4qwFQOc9ER+/3lEB5TmlFu/bAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/982f8e2f1b03b3823aa50e1451d9fd67/8d3d1/file-found-to-be-present-in-multiple-build-targets.webp 256w,
/static/982f8e2f1b03b3823aa50e1451d9fd67/354cf/file-found-to-be-present-in-multiple-build-targets.webp 512w,
/static/982f8e2f1b03b3823aa50e1451d9fd67/44907/file-found-to-be-present-in-multiple-build-targets.webp 1024w,
/static/982f8e2f1b03b3823aa50e1451d9fd67/864c4/file-found-to-be-present-in-multiple-build-targets.webp 1040w"
              sizes="(max-width: 1024px) 100vw, 1024px"
              type="image/webp"
            />
          <source
            srcset="/static/982f8e2f1b03b3823aa50e1451d9fd67/85b06/file-found-to-be-present-in-multiple-build-targets.png 256w,
/static/982f8e2f1b03b3823aa50e1451d9fd67/bc282/file-found-to-be-present-in-multiple-build-targets.png 512w,
/static/982f8e2f1b03b3823aa50e1451d9fd67/f1720/file-found-to-be-present-in-multiple-build-targets.png 1024w,
/static/982f8e2f1b03b3823aa50e1451d9fd67/638e9/file-found-to-be-present-in-multiple-build-targets.png 1040w"
            sizes="(max-width: 1024px) 100vw, 1024px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/982f8e2f1b03b3823aa50e1451d9fd67/f1720/file-found-to-be-present-in-multiple-build-targets.png"
            alt="File found to be present in multiple build targets - screenshot from GitHub Actions"
            title="File found to be present in multiple build targets - screenshot from GitHub Actions"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
    </span></p>
<p>Once again, we had to roll up our sleeves and try to figure out what this actually meant. We found the answer in a <a href="https://github.com/rust-lang/cargo/issues/5930">Cargo issue</a> where Alex Chricton suggested the <a href="https://github.com/rust-lang/cargo/issues/5930#issuecomment-449425113">following solution</a>:</p>
<blockquote>
<p>[…] we’d recommend either using a library or a <code>mod foo</code> pointing to the same location. If you use a shared library crate then you’ll get better compile times though!</p>
</blockquote>
<p>So, finally we managed to resolve this issue by moving all our CLI logic into a dedicated <code>cli.rs</code> file and changed the content of the original <code>main.rs</code> into this:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">jwt</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[macro_use]</span>
<span class="token keyword">extern</span> <span class="token keyword">crate</span> <span class="token module-declaration namespace">lazy_static</span><span class="token punctuation">;</span></code></pre></div>
<p>Note how we also marked the <code>jwt</code> sub-module as public, so that it is actually accessible to whoever is using the library.</p>
<p>Finally our <code>cargo.toml</code>, now looks like the following:</p>
<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token punctuation">[</span><span class="token table class-name">lib</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"jwtinfo"</span>
<span class="token key property">path</span> <span class="token punctuation">=</span> <span class="token string">"src/main.rs"</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">bin</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">"jwtinfo"</span>
<span class="token key property">path</span> <span class="token punctuation">=</span> <span class="token string">"src/cli.rs"</span></code></pre></div>
<p>And our files structure looks like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">src/
├── cli.rs
├── jwt.rs
├── main.rs
└── jwt/
    └── test.rs</code></pre></div>
<p>And that annoying warning disappeared. Plus, we are probably getting slightly faster compile times now! ⚡️</p>
<h2 id="document-all-the-things" style="position:relative;"><a href="#document-all-the-things" aria-label="document all the things permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document all the things</h2>
<p>One thing that we completely neglected so far was documentation. Rust has an amazing built-in utility to be able to document the API of crates and even to publish them online.
There is even an official piece of documentation that gives guidance on how to write <a href="https://doc.rust-lang.org/book/ch14-02-publishing-to-crates-io.html#making-useful-documentation-comments">useful documentation comments</a>.</p>
<p>If you just want to get started with writing docs for your crates, probably the easiest thing to do is to check out the <a href="https://doc.rust-lang.org/stable/rust-by-example/meta/doc.html">“Rust by example” page about documentation</a>.</p>
<p>As you start adding documentation comments to your crate, you can simply run <code>cargo doc --open</code> to compile the website with the documentation locally and open it with your browser. This is extremely convenient to make sure that, once you publish the crate, the documentation online will look as expected.</p>
<p>Few days after the review we rolled up our sleeves and started to document our library. If you are curious to see what it took to go from 0 to 100, this is our PR that added documentation to the crate: <a href="https://github.com/lmammino/jwtinfo/pull/22">lmammino/jwtinfo/pull/22</a>.</p>
<p>One of the most amazing thing was that, once we published a new version of the crate on crates.io, after few minutes we could navigate our crate doc online at <a href="https://docs.rs/jwtinfo">docs.rs/jwtinfo</a>:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 945px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 91.40624999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACRklEQVQ4y43S3UrcQBgG4FyLLhSamGSymf9vJjOTaCys1birYu0utGfKFsQI3ox44LH1RjxYLciuvZqS6NZdKtKHIQyTvMMHb7yrq6vr6+vLy8vb25+TyWRy/+v+4WE6nc5ms+l0+vT09HvZbDZ7fHy8u7u7ubnxnHNSSmttWZZ1fV7X49PTH8/G4/HZ2dn5srquLy4uTk5OnHPe4eHhaDQ6OvqilM4t5OpDHH30/eCZ3wqW+b7PGDfGeAcHB8fHx8PhVwBlFP204azLi6Kw1hVF7pwzxnDOxTLGGMbY+9b4PhqNlNJO4a0NoRSoOa20EIL8g1JKCPH29/eHw+FgMAAAglPZXMrSNA3noiiK34IQ8nZ2qr29Qa/XY1xY6IIgmDS34reky7zd3d3Nzc2yLDnnlBJjMowxpZQxRhuMc9a+ap4AABKklAAghPC2t7erqur3+825BOdyKSVrvmwsbJiQMm855/I811p7O3NSSkqpNUYpRecIIQCQJEkQBGtra4ttRVH0Eq6aMGQClRnayLqSY4zJ+5qqXsJVJaXMtO71egAKoaT7H5bGJrQZEiHUDhm8w/f9OI6XwlJIa6y1Nk27bcNxHKGXFaO22rkYJUnyGgaAGHUxF1prAElY1MV+nHa6tINwJ0xWonQ1RB0/XA3Cjh+uxMhfCEsIUZJwkRlrjM0yzSUhPGQQchW7dZavc+uEccIWzBUCQLyGtdaft7assRin86YYo5xSzpgA0AC6/eu1ajZa8MWwgiI3EmChJfx3pW/5A7f1I08HnlhXAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/c730ab1276c387d28437d2d249499621/8d3d1/jwtinfo-rust-docs-page.webp 256w,
/static/c730ab1276c387d28437d2d249499621/354cf/jwtinfo-rust-docs-page.webp 512w,
/static/c730ab1276c387d28437d2d249499621/0f41d/jwtinfo-rust-docs-page.webp 945w"
              sizes="(max-width: 945px) 100vw, 945px"
              type="image/webp"
            />
          <source
            srcset="/static/c730ab1276c387d28437d2d249499621/85b06/jwtinfo-rust-docs-page.png 256w,
/static/c730ab1276c387d28437d2d249499621/bc282/jwtinfo-rust-docs-page.png 512w,
/static/c730ab1276c387d28437d2d249499621/fddb0/jwtinfo-rust-docs-page.png 945w"
            sizes="(max-width: 945px) 100vw, 945px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/c730ab1276c387d28437d2d249499621/fddb0/jwtinfo-rust-docs-page.png"
            alt="jwtinfo Rust docs page screenshot from the rendered docs in the browser"
            title="jwtinfo Rust docs page screenshot from the rendered docs in the browser"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
    </span></p>
<p>Another thing that we loved about writing documentation in Rust is the ability to execute code examples to make sure they are actually correct.
Just to show a real example, this is a piece of documentation in our crate:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token comment">//! To parse a given JWT as a string:</span>
<span class="token comment">//!</span>
<span class="token comment">//! ```rust</span>
<span class="token comment">//! use jwtinfo::{jwt};</span>
<span class="token comment">//!</span>
<span class="token comment">//! let token_str = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c";</span>
<span class="token comment">//! match jwt::parse(token_str) {</span>
<span class="token comment">//!   Ok(token) => {</span>
<span class="token comment">//!     // do something with token</span>
<span class="token comment">//!     assert_eq!(token.header.to_string(), "{\"alg\":\"HS256\",\"typ\":\"JWT\"}");</span>
<span class="token comment">//!     assert_eq!(token.body.to_string(), "{\"iat\":1516239022,\"name\":\"John Doe\",\"sub\":\"1234567890\"}");</span>
<span class="token comment">//!   }</span>
<span class="token comment">//!   Err(e) => panic!(e)</span>
<span class="token comment">//! }</span>
<span class="token comment">//! ```</span></code></pre></div>
<p>When we run our test suite with <code>cargo test</code>, Cargo will also extrapolate this example here from the docs and execute it. This will help us make sure that our documentation is actually correct and that it doesn’t go stale over time.</p>
<p>If you have a big test suite and you just want to run your doc tests you can simply do that with <code>cargo test --doc</code>.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.109375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVQY02PYvWd/YFxySGJuYHxWYHx2YEI2iIzPDkjIDknKCUnMCUrIDk7MQUZhyXnuYUkr1m5iaJ84nUFYjkNOl1vCgE1MhUVAillIkU1AnpFXjoFLBoTYJRlYxZERC6cUAwNHcVkdQ8/U2cyaOmKWNrK6tgLKxtxyerwKhgJKRvyKhjzyBjzy+uwyOixSWqySCMQpo8vAJVPe0M4weeZ8Xjl9WR0bXgUDAWUjfiVDJmlNBnE1BmFVEBJRZRBVYxBVYxRThyNWSS0GdsnSulaGidPn8crpy+jb8CobSOvYiKpb8qgacSkYcMnp8yqAbOaW0+eRN2CT0maR0IQgDmkdBk7psvo2sJ+5ZZnFNRlFtFjFVJmE5JhFVNmElZmFlBkElECIXxFE8sgxcMtCEAu/AgMDX3F5PcO6LdtdAuM8Q+K9gxM9g6M9AyPcg6I8AyLd/CMdfCMcfCMc/SIc/CKc/CPhyDUw2tw1YPbCZQB/OVS2el+3+QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/4eb1e27239250659e78a25f5972c1f45/8d3d1/jwtinfo-running-docs-test-with-rust-docs.webp 256w,
/static/4eb1e27239250659e78a25f5972c1f45/354cf/jwtinfo-running-docs-test-with-rust-docs.webp 512w,
/static/4eb1e27239250659e78a25f5972c1f45/44907/jwtinfo-running-docs-test-with-rust-docs.webp 1024w,
/static/4eb1e27239250659e78a25f5972c1f45/c17ae/jwtinfo-running-docs-test-with-rust-docs.webp 1032w"
              sizes="(max-width: 1024px) 100vw, 1024px"
              type="image/webp"
            />
          <source
            srcset="/static/4eb1e27239250659e78a25f5972c1f45/85b06/jwtinfo-running-docs-test-with-rust-docs.png 256w,
/static/4eb1e27239250659e78a25f5972c1f45/bc282/jwtinfo-running-docs-test-with-rust-docs.png 512w,
/static/4eb1e27239250659e78a25f5972c1f45/f1720/jwtinfo-running-docs-test-with-rust-docs.png 1024w,
/static/4eb1e27239250659e78a25f5972c1f45/aef12/jwtinfo-running-docs-test-with-rust-docs.png 1032w"
            sizes="(max-width: 1024px) 100vw, 1024px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/4eb1e27239250659e78a25f5972c1f45/f1720/jwtinfo-running-docs-test-with-rust-docs.png"
            alt="Running docs tests with rust test --doc"
            title="Running docs tests with rust test --doc"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
    </span></p>
<p>Finally, another small trick we discovered is that you can hide specific functions or types from the generated documentation (in case those are private details you don’t want to expose to the crate users). Hiding documentation members is as simple as adding the following annotation:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token attribute attr-name">#[doc(hidden)]</span></code></pre></div>
<p>For instance, in our crate we have:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token attribute attr-name">#[doc(hidden)]</span>
<span class="token keyword">fn</span> <span class="token function-definition function">parse_base64_string</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">JWTParseError</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token namespace">base64<span class="token punctuation">::</span></span><span class="token function">decode_config</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token constant">BASE64_CONFIG</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">str</span><span class="token punctuation">::</span><span class="token function">from_utf8</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
    <span class="token class-name">Ok</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This is convenient because we don’t want any user of our crate to bother with this function which is just an implementation detail that we might decide to change in the future.</p>
<h2 id="convert-a-string-to-anything" style="position:relative;"><a href="#convert-a-string-to-anything" aria-label="convert a string to anything permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Convert a string to anything</h2>
<p>Another great suggestion from Tim to improve the ergonomics of the JWT parsing library was to implement the <a href="https://doc.rust-lang.org/std/str/trait.FromStr.html"><code>str::FromStr</code> trait</a> for the <code>Token</code> type.</p>
<p>The <code>FromStr</code> trait is a special Rust trait that allows to convert a string into any type that implements the trait.</p>
<p>This trait is already implemented in some standard type like <code>int32</code> and is what allows us to convert a string to an <code>int32</code> as follows:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">"1987"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>By the way, if you find the syntax <code>function::&#x3C;type>()</code> weird, don’t worry, we found it a bit “unfriendly” too. Once we discovered it is called <em>“turbofish”</em> we couldn’t help but to fall in love with it. You can learn more about it here: <a href="https://matematikaadit.github.io/posts/rust-turbofish.html">Where to put the turbofish</a>.</p>
<p>Don’t worry, if you still don’t like the turbofish syntax, you can rewrite the code above using type hints as follows:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">"1987"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token punctuation">:</span> <span class="token keyword">i32</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The official docs as a great example that shows how the <code>str::FromStr</code> trait can be very valuable to implement in your custom types. We are going to try to take this example and present it here in a slightly simplified fashion.</p>
<p>Imagine you have defined a <code>Point</code> type as follows:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token attribute attr-name">#[derive(Debug, PartialEq)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Point</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> <span class="token keyword">i32</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now imagine you are processing data from a text source, let’s say a file, and in there points are encoded in a string format such as <code>17,22</code>. Wouldn’t it be nice to be able to easily turn this format of strings into <code>Point</code> values?</p>
<p>Well, let’s enable this using the <code>str::FromStr</code> trait:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span><span class="token keyword">str</span><span class="token punctuation">::</span><span class="token class-name">FromStr</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>num<span class="token punctuation">::</span></span><span class="token class-name">ParseIntError</span><span class="token punctuation">;</span>

<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Point</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> <span class="token keyword">i32</span>
<span class="token punctuation">}</span>

<span class="token keyword">impl</span> <span class="token class-name">FromStr</span> <span class="token keyword">for</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> <span class="token class-name">Err</span> <span class="token operator">=</span> <span class="token class-name">ParseIntError</span><span class="token punctuation">;</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">from_str</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token keyword">Self</span><span class="token punctuation">,</span> <span class="token keyword">Self</span><span class="token punctuation">::</span><span class="token class-name">Err</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token keyword">mut</span> parts <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> x_str <span class="token operator">=</span> parts<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap_or</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> y_str <span class="token operator">=</span> parts<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap_or</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> x <span class="token operator">=</span> x_str<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> y <span class="token operator">=</span> y_str<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token class-name">Point</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">"17,22"</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> point <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token class-name">Point</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{:?}"</span><span class="token punctuation">,</span> point<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Point { x: 17, y: 22 }</span>
<span class="token punctuation">}</span></code></pre></div>
<p>As you can see from the example above, the <code>str::FromStr</code> trait has the following spec:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">impl</span> <span class="token class-name">FromStr</span> <span class="token keyword">for</span> <span class="token class-name">YourType</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> <span class="token class-name">Err</span> <span class="token operator">=</span> <span class="token class-name">YourErrorType</span><span class="token punctuation">;</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">from_str</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token keyword">Self</span><span class="token punctuation">,</span> <span class="token keyword">Self</span><span class="token punctuation">::</span><span class="token class-name">Err</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token comment">// process the string `s` and return a Result</span>
        <span class="token comment">// either a Err(YourErrorType) or</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token class-name">YourType</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>In our project it was rather trivial to implement this trait, because our <code>parse</code> function matches quite closely the signature of the <code>from_str</code> method defined in the  <code>str::FromStr</code> trait:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">impl</span> <span class="token class-name">FromStr</span> <span class="token keyword">for</span> <span class="token class-name">Token</span> <span class="token punctuation">{</span>
    <span class="token keyword">type</span> <span class="token class-name">Err</span> <span class="token operator">=</span> <span class="token class-name">JWTParsePartError</span><span class="token punctuation">;</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">from_str</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token keyword">Self</span><span class="token punctuation">,</span> <span class="token keyword">Self</span><span class="token punctuation">::</span><span class="token class-name">Err</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token function">parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This allows for the following syntax:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> token <span class="token operator">=</span> <span class="token string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">::</span><span class="token operator">&lt;</span><span class="token namespace">jwt<span class="token punctuation">::</span></span><span class="token class-name">Token</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>or, if you still hate the poor turbofish:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> token<span class="token punctuation">:</span> <span class="token namespace">jwt<span class="token punctuation">::</span></span><span class="token class-name">Token</span> <span class="token operator">=</span> <span class="token string">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="accept-any-type-that-can-be-converted-to-string" style="position:relative;"><a href="#accept-any-type-that-can-be-converted-to-string" aria-label="accept any type that can be converted to string permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Accept any type that can be converted to string</h2>
<p>For better or for worse, Rust is famous for having a number of different types to represent strings. The most famous are <a href="https://doc.rust-lang.org/stable/rust-by-example/std/str.html"><code>String</code> and <code>&#x26;str</code></a> but from time to time we have seen even other types like <a href="https://doc.rust-lang.org/std/ffi/struct.CStr.html"><code>CStr</code></a> or <a href="https://doc.rust-lang.org/std/ffi/struct.OsStr.html"><code>OsStr</code></a>.</p>
<p>During the review process, Tim recommended making our public API more flexible by supporting “every type that can be converted to a string”.</p>
<p>The way we can achieve that is by leveraging the <a href="https://doc.rust-lang.org/std/convert/trait.AsRef.html"><code>std::convert::AsRef</code></a> trait.</p>
<p>The official documentation starts with a “not very friendly” opening (at least for Rust noobs like ourselves), but then it provides a great example that makes quite obvious how to use this trait to support any type of string:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">is_hello</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">AsRef</span><span class="token operator">&lt;</span><span class="token keyword">str</span><span class="token operator">>></span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token macro property">assert_eq!</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">as_ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token function">is_hello</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">is_hello</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Essentially, whenever you want to accept “anything that can be converted to a string” you can use the following recipe:</p>
<ol>
<li>Make your function accept an argument <code>x</code> of generic type <code>T</code></li>
<li>Define <code>T</code> so that it must implement the trait <code>AsRef&#x3C;str></code></li>
<li>In your function body get the actual <code>str</code> value from <code>x</code> using <code>x.as_ref()</code></li>
</ol>
<p>As you can see from the example above, with this recipe, we can pass both <code>&#x26;str</code> and <code>String</code> values to the <code>is_hello</code> function.</p>
<p>Applying this pattern to our code was quite straightforward. Also, since our public surface is quite small, we only needed to change the <code>jwt::parse</code> function as follows:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">parse</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">AsRef</span><span class="token operator">&lt;</span><span class="token keyword">str</span><span class="token operator">>></span><span class="token punctuation">(</span>token<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">Token</span><span class="token punctuation">,</span> <span class="token class-name">JWTParsePartError</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> parts <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">as_ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="remove-code-duplication" style="position:relative;"><a href="#remove-code-duplication" aria-label="remove code duplication permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remove code duplication</h2>
<p>One of the things that amazed us when we started playing with Rust was to discover that Rust <a href="https://doc.rust-lang.org/reference/statements-and-expressions.html"><em>is primarily an expression language</em></a>.</p>
<p>In practice, this means that most syntax elements, including <code>if-else</code> and <code>match</code>, once evaluated will produce a value that can be carried over to other expressions or assigned to a variable.</p>
<p>Coming from languages that don’t have this capability, we easily forget to take advantage of this characteristic of Rust and we end up writing code that contains duplication or that is more verbose than necessary.</p>
<p>Tim spotted a few places where we could get rid of annoying code duplication by simply using <code>match</code> and <code>if-else</code> in a different way. This made us go through the code base of our crate and find other places where we could improve readability and make our code more idiomatic.</p>
<p>Let’s show some examples:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">if</span> matches<span class="token punctuation">.</span><span class="token function">is_present</span><span class="token punctuation">(</span><span class="token string">"header"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> jwt_token<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> jwt_token<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This code has clearly some repetition. It is not terrible, but it seems unnecessary to have to repeat the <code>println!()</code> macro invocation and the <code>to_string()</code> call.</p>
<p>We ended up refactoring this as follows:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> part <span class="token operator">=</span> <span class="token keyword">if</span> matches<span class="token punctuation">.</span><span class="token function">is_present</span><span class="token punctuation">(</span><span class="token string">"header"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    jwt_token<span class="token punctuation">.</span>header
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    jwt_token<span class="token punctuation">.</span>body
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> part<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Once you know that <code>if-else</code> expressions will produce a value (depending on which branch will be selected at runtime), this alternative looks more readable. Also this refactoring makes quite clear that this code has essentially 2 parts: select a part, then print it on the standard output.</p>
<p>Another interesting example in our code base involved the <code>match</code> expression. This was the code before the refactoring:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">impl</span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Display</span> <span class="token keyword">for</span> <span class="token class-name">JWTParseError</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">fmt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> f<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Formatter</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Result</span> <span class="token punctuation">{</span>
        <span class="token keyword">match</span> <span class="token keyword">self</span> <span class="token punctuation">{</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">MissingSection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">write!</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">"{}"</span><span class="token punctuation">,</span> <span class="token string">"Missing token section"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">InvalidUtf8</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">write!</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">"UTF8 error, {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">InvalidBase64</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">write!</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">"Base64 error, {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">InvalidJSON</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">write!</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">"JSON error, {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Applying the same principle as before we refactored the code above to this:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">impl</span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Display</span> <span class="token keyword">for</span> <span class="token class-name">JWTParseError</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">fmt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> f<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Formatter</span><span class="token punctuation">)</span> <span class="token punctuation">-></span> <span class="token namespace">fmt<span class="token punctuation">::</span></span><span class="token class-name">Result</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token keyword">match</span> <span class="token keyword">self</span> <span class="token punctuation">{</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">MissingSection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"Missing token section"</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">InvalidUtf8</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"UTF8 error, {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">InvalidBase64</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"Base64 error, {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">JWTParseError</span><span class="token punctuation">::</span><span class="token class-name">InvalidJSON</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"JSON error, {}"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token macro property">write!</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">"{}"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Again, the trick here is to assign the result of the match expression to a variable (<code>message</code> in this particular case) and then we can re-use that variable in the next step.</p>
<p>Another cool thing that we discovered is that, by using <a href="https://github.com/rust-lang/rust-clippy">clippy</a> as a linter, it will help you out to spot some of these improvements.</p>
<p>For instance, the first time we tried to improve the readability of the <code>if-else</code> expression previously mentioned we ended up using a <code>match</code> expression unnecessarily:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> part <span class="token operator">=</span> <span class="token keyword">match</span> matches<span class="token punctuation">.</span><span class="token function">is_present</span><span class="token punctuation">(</span><span class="token string">"header"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token boolean">true</span> <span class="token operator">=></span> jwt_token<span class="token punctuation">.</span>header<span class="token punctuation">,</span>
    <span class="token boolean">false</span> <span class="token operator">=></span> jwt_token<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> part<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>When we run clippy on this code, it did trigger the <a href="https://rust-lang.github.io/rust-clippy/master/index.html#match_bool"><code>match_bool</code></a> rule and that it is suggested to refactor this with an <code>if-else</code> expression:</p>
<div class="gatsby-highlight" data-language="rust"><pre class="language-rust"><code class="language-rust"><span class="token keyword">let</span> part <span class="token operator">=</span> <span class="token keyword">if</span> matches<span class="token punctuation">.</span><span class="token function">is_present</span><span class="token punctuation">(</span><span class="token string">"header"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    jwt_token<span class="token punctuation">.</span>header
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    jwt_token<span class="token punctuation">.</span>body
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>Which is indeed more readable. Another lesson learned: trust linters!</p>
<p>In short, these types of change helped us to reduce the amount of inline composition and to make the code more sequential and easy to follow.</p>
<h2 id="improve-tests-for-invalid-strings" style="position:relative;"><a href="#improve-tests-for-invalid-strings" aria-label="improve tests for invalid strings permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Improve tests for invalid strings</h2>
<p>Another thing that Tim recommended us to do was to improve our coverage on testing different types of input. He tried to run our JWT parser against strings with non-utf8 characters and strings containing null bytes to see whether our code would handle that correctly (returning an error) or whether it would just panic.</p>
<p>The idea is to try to avoid panics at all costs and make sure all possible errors are handled and propagated correctly.</p>
<p>This pushed us to increase our test coverage adding a few more tests as you can see in <a href="https://github.com/lmammino/jwtinfo/pull/28/files">this PR</a>.</p>
<p>Another interesting recommendation was to use something like <a href="https://github.com/BurntSushi/quickcheck">quickcheck</a> to do fuzzy testing on our input. Although this seems like an extremely interesting thing to do, we haven’t got time yet to play with this idea.</p>
<h2 id="shell-scripts-deserve-some-love-too" style="position:relative;"><a href="#shell-scripts-deserve-some-love-too" aria-label="shell scripts deserve some love too permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shell scripts deserve some love too</h2>
<p>As a last point, Tim had a look at our <a href="https://github.com/lmammino/jwtinfo/blob/master/install.sh">cross-system installation script</a> and immediately noticed our poor use of Bash scripting.</p>
<p>The main advice here was to use some shell linter like <a href="https://www.shellcheck.net">Shellcheck</a>. Tim himself, ran the script against the linter by copy pasting the code on the web page and submitted a PR with some improvements.</p>
<p>Shellcheck can be used as a command line tool too, so it would be nice in feature release to integrate in our automated tests.</p>
<h2 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>This concludes our recap article. We don’t have any special rule of thumb except that the Rust ride was quite fun for us so far. It has been a bumpy road but thanks to the amazing open source community and people like Tim, the road to learn Rust can become much smoother.</p>
<p>Our final word of advice is that, if you are learning Rust, or any other technology for what matters, don’t be afraid to start public open source projects and ask for help and reviews. Even better if you share this journey with some friends.</p>
<p>At the end of the day, all that matters is learning new things and having fun!</p>
<p>We take one more opportunity to thank Tim for the great support here and, if you like Rust, we do recommend you to follow him on <a href="https://twitter.com/timClicks">Twitter</a>, <a href="https://www.twitch.tv/timclicks">Twitch</a> and <a href="https://www.youtube.com/channel/UClny6qj9Mv7uFo9XGUGYQBA">Youtube</a>.</p>
<p>Take care! 🙌</p></article><style data-emotion="css 1bhol7z">.css-1bhol7z{margin:2em 0;line-height:25px;padding:1em;font-size:small;border-radius:8px;background:rgba(255, 229, 100, 0.3);}.css-1bhol7z a{-webkit-text-decoration:none;text-decoration:none;border-bottom:2px solid #ffe564;color:inherit;}.css-1bhol7z a:hover{border-bottom:2px solid #ff9b51;}@media (min-width: 780px){.css-1bhol7z{padding:2em 2em;}}</style><div class="css-1bhol7z ep8980s0"><strong>Found a typo or something that can be improved?</strong><br/>In the spirit of Open Source, you can contribute to this article by<!-- --> <a href="https://github.com/lmammino/loige.co/blob/master/content/posts/2020-10-11_learning-rust-through-open-source-and-live-code-reviews/index.md" target="_blank" rel="noopener noreferrer">submitting a PR on <svg aria-label="GitHub" viewBox="0 0 24 24" width="1em" height="1em"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> GitHub</a></div><div style="border-top:1px solid #ececec;margin-top:2em;padding-top:2em;line-height:1.2" class="css-t2ycg8 ep8980s1"><h2 id="comments"><svg aria-hidden="true" data-prefix="fas" data-icon="comments" class="svg-inline--fa fa-comments fa-w-18" viewBox="0 0 576 512" width="1em" height="1em" style="margin:0 .25em 0 0"><path fill="currentColor" d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"></path></svg> Comments</h2><div id="disqus_thread"></div></div></main><style data-emotion="css 1n0r681">.css-1n0r681{-webkit-flex:1;-ms-flex:1;flex:1;background:#f7f7f7;padding:1em;margin:0 0 2em 0;}.css-1n0r681 h3{margin:0 0 0.5em 0;position:relative;color:#111;}@media (min-width: 780px){.css-1n0r681{background:transparent;margin:0 0 1em 0;}.css-1n0r681>div{margin:1em 0 0 0;position:-webkit-sticky;position:sticky;overflow-y:auto;top:70px;}}</style><aside class="css-1n0r681 e1kc7zwr0"><style data-emotion="css 1jztyo0">.css-1jztyo0{background:#ffffcd;padding:0.5em;font-size:12px;display:block;color:inherit;-webkit-text-decoration:none;text-decoration:none;border:1px solid #ffffcd;margin:0 0 1em 0;}.css-1jztyo0:hover{border-color:#f89000;}</style><a href="https://www.nodejsdesignpatterns.com/" class="css-1jztyo0 e1pruv502"><style data-emotion="css jovua5">.css-jovua5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style><span class="css-jovua5 e1pruv501"><style data-emotion="css 1mvr8gq">.css-1mvr8gq{width:50%;padding:0 0 0 1em;display:block;}.css-1mvr8gq.left{max-width:125px;padding:0 0 0 1em!important;}@media (max-width: 1024px) and (min-width: 780px){.css-1mvr8gq{width:100%;max-width:auto!important;margin:0;}.css-1mvr8gq.left{padding:0 0 0 1em;}.css-1mvr8gq h4{padding:1em 0 0.5em 0!important;}}.css-1mvr8gq:first-of-type{padding:0;}.css-1mvr8gq h4{padding:0 0 0.5em 0;font-size:14px;}</style><span class="left css-1mvr8gq e1pruv500"><img src="/static/200-1cf8c01eb1b97df13cb6f6f3f36de3c0.jpg" style="width:100%" alt="Node.js Design Patterns Third Edition"/></span><span class="css-1mvr8gq e1pruv500"><h4>Node.js Design Patterns</h4><p>Design and implement production-grade <strong>Node.js</strong> <!-- -->applications using proven patterns and techniques with<!-- --> <em>Node.js Design Patterns Third Edition</em>. Available as<!-- --> <strong>Digital</strong> and <strong>Print</strong>.</p></span></span></a><div><style data-emotion="css exth3p">.css-exth3p ol{color:#6d6d6d;padding:0 0 0 2em;list-style:decimal-leading-zero;}.css-exth3p ol ol{padding:0 0 0 0.3em;}.css-exth3p ol li{font-size:0.8rem;font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace;margin-top:5px;color:#111;}.css-exth3p ol li a{font-size:1.2em;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;color:#6d6d6d;border-bottom:1px solid transparent;-webkit-text-decoration:none;text-decoration:none;font-weight:bold;}.css-exth3p ol li a:hover{color:#000;outline-width:0;}.css-exth3p ol li.depth-3{font-size:0.8em;list-style:none;}</style><div class="css-exth3p eu4hp7r0"><h3>Sections</h3><ol><li class="depth-2"><a href="#our-motivation">Our motivation</a></li><li class="depth-2"><a href="#the-project-and-a-quick-jwt-primer">The project and a quick JWT primer</a></li><li class="depth-2"><a href="#the-review">The review</a></li><li class="depth-2"><a href="#simplified-project-structure-and-exposing-a-cli-and-a-library">Simplified project structure and exposing a CLI and a library</a></li><li class="depth-2"><a href="#document-all-the-things">Document all the things</a></li><li class="depth-2"><a href="#convert-a-string-to-anything">Convert a string to anything</a></li><li class="depth-2"><a href="#accept-any-type-that-can-be-converted-to-string">Accept any type that can be converted to string</a></li><li class="depth-2"><a href="#remove-code-duplication">Remove code duplication</a></li><li class="depth-2"><a href="#improve-tests-for-invalid-strings">Improve tests for invalid strings</a></li><li class="depth-2"><a href="#shell-scripts-deserve-some-love-too">Shell scripts deserve some love too</a></li><li class="depth-2"><a href="#conclusion">Conclusion</a></li></ol></div><h3 style="margin-top:1em">Share</h3><style data-emotion="css 125xt49">.css-125xt49{list-style:none;font-size:30px;padding:0.2em 0;}.css-125xt49 li{display:inline-block;margin:0 0.2em 0 0;}.css-125xt49 li a{color:#6d6d6d;}.css-125xt49 li a.twitter:hover{color:#00aced;}.css-125xt49 li a.facebook:hover{color:#3b5998;}.css-125xt49 li a.linkedin:hover{color:#007bb6;}.css-125xt49 li a.pinterest:hover{color:#cb2027;}.css-125xt49 li a.email:hover{color:black;}</style><ul class="css-125xt49 ey4v4xz0"><li><a rel="nofollow noopener noreferrer" class="twitter" target="_blank" href="https://twitter.com/intent/tweet?text=Learning%20Rust%20through%20open%20source%20and%20live%20code%20reviews&amp;url=https%3A%2F%2Floige.co%2Flearning-rust-through-open-source-and-live-code-reviews%2F&amp;source=https%3A%2F%2Floige.co&amp;related=loige&amp;via=loige" title="Share via twitter"><svg aria-label="Twitter" viewBox="0 0 24 24" width="1em" height="1em"><path fill="currentColor" d="M23.954 4.569a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.691 8.094 4.066 6.13 1.64 3.161a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.061a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.937 4.937 0 0 0 4.604 3.417 9.868 9.868 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63a9.936 9.936 0 0 0 2.46-2.548l-.047-.02z"></path></svg></a></li><li><a rel="nofollow noopener noreferrer" class="facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Floige.co%2Flearning-rust-through-open-source-and-live-code-reviews%2F" title="Share via facebook"><svg aria-hidden="true" data-prefix="fab" data-icon="facebook-square" class="svg-inline--fa fa-facebook-square fa-w-14" viewBox="0 0 448 512" width="1em" height="1em"><path fill="currentColor" d="M448 80v352c0 26.5-21.5 48-48 48h-85.3V302.8h60.6l8.7-67.6h-69.3V192c0-19.6 5.4-32.9 33.5-32.9H384V98.7c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9H184v67.6h60.9V480H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48z"></path></svg></a></li><li><a rel="nofollow noopener noreferrer" class="linkedin" target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Floige.co%2Flearning-rust-through-open-source-and-live-code-reviews%2F&amp;title=Learning%20Rust%20through%20open%20source%20and%20live%20code%20reviews&amp;source=https%3A%2F%2Floige.co" title="Share via linkedin"><svg aria-hidden="true" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-w-14" viewBox="0 0 448 512" width="1em" height="1em"><path fill="currentColor" d="M100.3 480H7.4V180.9h92.9V480zM53.8 140.1C24.1 140.1 0 115.5 0 85.8 0 56.1 24.1 32 53.8 32c29.7 0 53.8 24.1 53.8 53.8 0 29.7-24.1 54.3-53.8 54.3zM448 480h-92.7V334.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V480h-92.8V180.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V480z"></path></svg></a></li><li><a rel="nofollow noopener noreferrer" class="pinterest" target="_blank" href="https://pinterest.com/pin/create/button/?media=https%3A%2F%2Floige.co%2Fstatic%2F73964e7ee471c3ff0729c96f4bc4fb65%2Flearning-rust-through-open-source-and-live-code-reviews.jpg&amp;url=https%3A%2F%2Floige.co%2Flearning-rust-through-open-source-and-live-code-reviews%2F&amp;is_video=false&amp;description=Learning%20Rust%20through%20open%20source%20and%20live%20code%20reviews" title="Share via pinterest"><svg aria-hidden="true" data-prefix="fab" data-icon="pinterest" class="svg-inline--fa fa-pinterest fa-w-16" viewBox="0 0 496 512" width="1em" height="1em"><path fill="currentColor" d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"></path></svg></a></li><li><a rel="nofollow noopener noreferrer" class="email" target="_blank" href="/cdn-cgi/l/email-protection#7b445d1a160b4019141f02465e4b3a371e1a091512151c5e494b290e080f5e494b0f1309140e1c135e494b140b1e155e494b08140e09181e5e494b1a151f5e494b17120d1e5e494b18141f1e5e494b091e0d121e0c085e4b3a5e4b3a130f0f0b085e483a5e493d5e493d1714121c1e5518145e493d171e1a091512151c56090e080f560f1309140e1c1356140b1e155608140e09181e561a151f5617120d1e5618141f1e56091e0d121e0c085e493d5d1a160b40080e19111e180f46371e1a091512151c5e494b290e080f5e494b0f1309140e1c135e494b140b1e155e494b08140e09181e5e494b1a151f5e494b17120d1e5e494b18141f1e5e494b091e0d121e0c08" title="Share via email"><svg aria-hidden="true" data-prefix="far" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16" viewBox="0 0 512 512" width="1em" height="1em"><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"></path></svg></a></li></ul><h3 style="margin-top:1em">Similar posts</h3><style data-emotion="css 11m37pp">.css-11m37pp{color:#6d6d6d;list-style:outside;padding:0 0 0 1.25em;}.css-11m37pp li{margin:0.75em 0 0 0;}.css-11m37pp li:first-of-type{margin-top:0;}.css-11m37pp a{color:#6d6d6d;-webkit-text-decoration:none;text-decoration:none;font-weight:bold;}.css-11m37pp a:hover{color:#000;}</style><ul class="css-11m37pp e1empo690"><li><a href="/how-to-to-string-in-rust">How to to_string in Rust</a></li><li><a href="/rust-shenanigans-return-type-polymorphism">Rust shenanigans: return type polymorphism</a></li><li><a href="/where-to-go-to-learn-rust-in-2021">Where to go to learn Rust in 2021</a></li></ul></div></aside></div></section></div><style data-emotion="css 1ywtb7p">.css-1ywtb7p{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;list-style:none;padding:0;font-size:14px;min-height:260px;}@media (min-width: 780px){.css-1ywtb7p{-webkit-box-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;font-size:16px;}}@media (min-width: 1024px){.css-1ywtb7p{height:300px;font-size:18px;}}</style><ul class="css-1ywtb7p e191jpam2"><style data-emotion="css 92w3s3">.css-92w3s3{width:100%;text-align:center;min-height:100%;background:black;-webkit-background-size:cover;background-size:cover;}.css-92w3s3 a{-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background:rgba(0, 0, 0, 0.8);height:100%;-webkit-transition:background 0.5s ease;transition:background 0.5s ease;padding:1em;}.css-92w3s3 a:hover{background:rgba(0, 0, 0, 0.3);}.css-92w3s3 a h4{color:#fff;font-size:1.2em;}.css-92w3s3 a p{color:rgba(255, 255, 255, 0.8);font-size:0.8em;vertical-align:middle;line-height:1em;}.css-92w3s3 a p svg{vertical-align:text-bottom;}</style><li style="background-image:url(/static/e1ddf227656e180d575bfdb9a494a9d2/whats-in-a-jwt.png)" class="css-92w3s3 e191jpam1"><a rel="prev" href="/whats-in-a-jwt"><style data-emotion="css 16g7a2l">.css-16g7a2l{display:inline-block;padding:4px 10px 5px;text-transform:uppercase;font-size:0.8em;color:rgba(255, 255, 255, 0.8);}</style><span class="css-16g7a2l e191jpam0">Read this next</span><h4>What&#x27;s in a JWT (Json Web Token)?</h4><p><svg aria-hidden="true" data-prefix="far" data-icon="eye" class="svg-inline--fa fa-eye fa-w-18" viewBox="0 0 576 512" width="1em" height="1em"><path fill="currentColor" d="M569.354 231.631C512.97 135.949 407.81 72 288 72 168.14 72 63.004 135.994 6.646 231.631a47.999 47.999 0 0 0 0 48.739C63.031 376.051 168.19 440 288 440c119.86 0 224.996-63.994 281.354-159.631a47.997 47.997 0 0 0 0-48.738zM288 392c-102.556 0-192.091-54.701-240-136 44.157-74.933 123.677-127.27 216.162-135.007C273.958 131.078 280 144.83 280 160c0 30.928-25.072 56-56 56s-56-25.072-56-56l.001-.042C157.794 179.043 152 200.844 152 224c0 75.111 60.889 136 136 136s136-60.889 136-136c0-31.031-10.4-59.629-27.895-82.515C451.704 164.638 498.009 205.106 528 256c-47.908 81.299-137.444 136-240 136z"></path></svg> <!-- -->4<!-- --> minutes read</p></a></li><li style="background-image:url(/static/0112d591151b4810e66cad477b4fc538/2020-a-year-in-review.jpg)" class="css-92w3s3 e191jpam1"><a rel="next" href="/2020-a-year-in-review"><span class="css-16g7a2l e191jpam0">You might enjoy</span><h4>2020 - A year in review</h4><p><svg aria-hidden="true" data-prefix="far" data-icon="eye" class="svg-inline--fa fa-eye fa-w-18" viewBox="0 0 576 512" width="1em" height="1em"><path fill="currentColor" d="M569.354 231.631C512.97 135.949 407.81 72 288 72 168.14 72 63.004 135.994 6.646 231.631a47.999 47.999 0 0 0 0 48.739C63.031 376.051 168.19 440 288 440c119.86 0 224.996-63.994 281.354-159.631a47.997 47.997 0 0 0 0-48.738zM288 392c-102.556 0-192.091-54.701-240-136 44.157-74.933 123.677-127.27 216.162-135.007C273.958 131.078 280 144.83 280 160c0 30.928-25.072 56-56 56s-56-25.072-56-56l.001-.042C157.794 179.043 152 200.844 152 224c0 75.111 60.889 136 136 136s136-60.889 136-136c0-31.031-10.4-59.629-27.895-82.515C451.704 164.638 498.009 205.106 528 256c-47.908 81.299-137.444 136-240 136z"></path></svg> <!-- -->29<!-- --> minutes read</p></a></li></ul><style data-emotion="css 98dwl5">.css-98dwl5{background-color:#20232a;color:#ffffff;padding-top:30px;padding-bottom:50px;position:relative;}</style><footer class="css-98dwl5 ecf9mth10"><style data-emotion="css rxhh6g">.css-rxhh6g{position:absolute;width:100%;top:0;height:2px;display:block;transform-origin:left center 0px;-webkit-transform:scaleX(1);-moz-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);z-index:50;-webkit-transition:-webkit-transform 400ms ease 100ms;transition:transform 400ms ease 100ms;background:linear-gradient(90deg, #46c9e5, #d26ac2);}</style><span class="css-rxhh6g ecf9mth9"></span><style data-emotion="css 1tjci2f">.css-1tjci2f{padding-left:20px;padding-right:20px;max-width:1260px;margin-left:auto;margin-right:auto;}@media (min-width: 780px){.css-1tjci2f{width:90%;}}</style><div class="css-1tjci2f ecf9mth8"><style data-emotion="css y6mpu4">.css-y6mpu4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}</style><div class="css-y6mpu4 ecf9mth7"><style data-emotion="css 17fog7c">.css-17fog7c{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;margin-bottom:1em;padding-right:1em;width:100%;}@media (min-width: 780px){.css-17fog7c{width:auto;}}</style><div class="css-17fog7c ecf9mth5"><style data-emotion="css mhff0s">.css-mhff0s{color:#d26ac2;font-size:14px;font-weight:bold;line-height:3;text-transform:uppercase;letter-spacing:0.08em;}</style><div style="color:#46c9e5" class="css-mhff0s ecf9mth3">Loige.co</div><style data-emotion="css 15vbtor">.css-15vbtor{font-size:0.8em;padding:4px 0 0 0;color:#ccc;}.css-15vbtor a{color:inherit;font-weight:bold;-webkit-text-decoration:none;text-decoration:none;}.css-15vbtor a:hover{color:#46c9e5;-webkit-text-decoration:underline;text-decoration:underline;}</style><p class="css-15vbtor ecf9mth1">Copyright © Luciano Mammino 2014-<!-- -->2021<!-- -->.</p><p class="css-15vbtor ecf9mth1">Built with<!-- --> <a rel="nofollow noopener noreferrer" target="_blank" href="https://www.gatsbyjs.org">Gatsby</a>, Coffee and a lot of <style data-emotion="css 12awzcx">.css-12awzcx{color:#d26ac2;}.css-12awzcx:hover{color:red;}</style><span class="css-12awzcx ecf9mth0">❤︎</span>.</p><p class="css-15vbtor ecf9mth1">Loige logo designed by<!-- --> <a rel="nofollow noopener noreferrer" target="_blank" href="http://andreamangano.com">Andrea Mangano</a>.</p><p class="css-15vbtor ecf9mth1">Hosted on<!-- --> <a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/lmammino/loige.co">GitHub</a>, accelerated by<!-- --> <a rel="nofollow noopener noreferrer" target="_blank" href="https://www.cloudflare.com">Cloudflare</a>.</p><p class="css-15vbtor ecf9mth1">Theme inspired by<!-- --> <a rel="nofollow noopener noreferrer" target="_blank" href="https://reactjs.org/docs/">React documentation.</a></p><p class="css-15vbtor ecf9mth1">Icons by<!-- --> <a rel="nofollow noopener noreferrer" target="_blank" href="https://fontawesome.com/">Font Awesome</a>.</p></div><style data-emotion="css fhit9x">.css-fhit9x{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;margin-bottom:1em;padding-right:1em;}</style><div class="css-fhit9x ecf9mth6"><style data-emotion="css dnp3pp">.css-dnp3pp{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="css-dnp3pp ecf9mth4"><div class="css-mhff0s ecf9mth3">Explore</div><style data-emotion="css 1ez8siy">.css-1ez8siy{color:inherit;line-height:2;-webkit-text-decoration:none;text-decoration:none;}.css-1ez8siy:hover{color:#46c9e5;}</style><a href="/" class="css-1ez8siy ecf9mth2">Blog</a><a href="/speaking" class="css-1ez8siy ecf9mth2">Speaking</a><a href="/about" class="css-1ez8siy ecf9mth2">About</a><a href="/comment-policy" class="css-1ez8siy ecf9mth2">Comment Policy</a></div></div><div class="css-fhit9x ecf9mth6"><div class="css-dnp3pp ecf9mth4"><div class="css-mhff0s ecf9mth3">My Projects</div><a target="_blank" rel="nofollow noopener noreferrer" href="https://www.nodejsdesignpatterns.com" class="css-1ez8siy ecf9mth2">Node.js Design Patterns</a><a target="_blank" rel="nofollow noopener noreferrer" href="https://serverlesslab.com" class="css-1ez8siy ecf9mth2">ServerlessLab</a><a target="_blank" rel="nofollow noopener noreferrer" href="https://fullstackbulletin.com" class="css-1ez8siy ecf9mth2">FullStack Bulletin</a><a target="_blank" rel="nofollow noopener noreferrer" href="https://middy.js.org" class="css-1ez8siy ecf9mth2">Middy</a></div></div><div class="css-fhit9x ecf9mth6"><div class="css-dnp3pp ecf9mth4"><div class="css-mhff0s ecf9mth3">Follow me</div><a rel="nofollow noopener noreferrer" href="https://twitter.com/loige" class="css-1ez8siy ecf9mth2"><svg aria-label="Twitter" viewBox="0 0 24 24" width="1em" height="1em"><path fill="currentColor" d="M23.954 4.569a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.691 8.094 4.066 6.13 1.64 3.161a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.061a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.937 4.937 0 0 0 4.604 3.417 9.868 9.868 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63a9.936 9.936 0 0 0 2.46-2.548l-.047-.02z"></path></svg> Twitter</a><a rel="nofollow noopener noreferrer" href="https://twitch.tv/loige" class="css-1ez8siy ecf9mth2"><svg aria-label="Twitch" viewBox="0 0 24 24" width="1em" height="1em"><path fill="currentColor" d="M.975 4.175v16.694h5.749V24h3.139l3.134-3.132h4.705l6.274-6.258V0H2.542zm3.658-2.09h17.252v11.479l-3.66 3.652h-5.751L9.34 20.343v-3.127H4.633z"></path><path fill="currentColor" d="M10.385 6.262h2.09v6.26h-2.09zM16.133 6.262h2.091v6.26h-2.091z"></path></svg> Twitch</a><a rel="nofollow noopener noreferrer" href="https://www.youtube.com/channel/UCL0w2IAjTBx3NNka-l7InPw" class="css-1ez8siy ecf9mth2"><svg aria-label="Youtube" viewBox="0 0 24 24" width="1em" height="1em"><path fill="currentColor" d="M23.469 5.929l.03.196a3.043 3.043 0 0 0-2.068-2.112l-.021-.005c-1.871-.508-9.4-.508-9.4-.508s-7.51-.01-9.4.508A3.044 3.044 0 0 0 .527 6.104l-.005.021c-.699 3.651-.704 8.038.031 11.947l-.031-.198a3.043 3.043 0 0 0 2.068 2.112l.021.005c1.869.509 9.4.509 9.4.509s7.509 0 9.4-.509a3.043 3.043 0 0 0 2.084-2.096l.005-.021c.318-1.698.5-3.652.5-5.648l-.001-.221.001-.23c0-1.997-.182-3.951-.531-5.846zM9.608 15.651V8.358l6.266 3.652z"></path></svg> Youtube</a><a rel="nofollow noopener noreferrer" href="https://www.linkedin.com/in/lucianomammino" class="css-1ez8siy ecf9mth2"><svg aria-label="LinkedIn" viewBox="0 0 24 24" width="1em" height="1em"><path fill="currentColor" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg> Linkedin</a><a rel="nofollow noopener noreferrer" href="https://github.com/lmammino" class="css-1ez8siy ecf9mth2"><svg aria-label="GitHub" viewBox="0 0 24 24" width="1em" height="1em"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg> GitHub</a></div></div></div></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-47248506-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/learning-rust-through-open-source-and-live-code-reviews/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e4ec0435b44fba9b8b39.js"],"app":["/app-514e309b4e51a67a0ada.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-4c9ab4251958cf3dbd2c.js"],"component---content-pages-about-js":["/component---content-pages-about-js-4633ff8e8e6a282a19b1.js"],"component---content-pages-comment-policy-js":["/component---content-pages-comment-policy-js-3c6a39721512017d8ec9.js"],"component---src-pages-404-js":["/component---src-pages-404-js-dc2b10ea69db3388f05e.js"],"component---src-templates-blog-index-js":["/component---src-templates-blog-index-js-53d33cfd3e02466e4117.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-f8a40d902eea460a8b7d.js"],"component---src-templates-blog-post-share-image-js":["/component---src-templates-blog-post-share-image-js-05c00175dfd3cda6599c.js"],"component---src-templates-speaking-index-js":["/component---src-templates-speaking-index-js-fd364170d3dbe5d3a93d.js"],"component---src-templates-tag-index-js":["/component---src-templates-tag-index-js-3552ab9114277143e61a.js"]};/*]]>*/</script><script src="/polyfill-e4ec0435b44fba9b8b39.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-f8a40d902eea460a8b7d.js" async=""></script><script src="/4d6423837748823c19bdd3076c1db680baba727b-30a9131768be883bb7a1.js" async=""></script><script src="/850935577dc6138b95e5bc3f6f1d9b06bd36398e-bd6be05cfb6becde2e63.js" async=""></script><script src="/ab670281d767243777119348a2b810446e7309bb-19b089964506eaf24367.js" async=""></script><script src="/app-514e309b4e51a67a0ada.js" async=""></script><script src="/framework-9d9eff57288a5d76d992.js" async=""></script><script src="/webpack-runtime-0019acd3e3ba19e6ba77.js" async=""></script></body></html>